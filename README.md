# TestTask001

В теории музыки интервал - это расстояние между двумя нотами. Это расстояние указывается с помощью буквы и числа. Например, допустимые названия интервалов - M3, P5 или m7. Буква и цифра в названии интервала означают определенные вещи.

Как и в математике, если мы говорим, что расстояние на сантиметровой линейке между 3 и 5 равно 2 сантиметрам, в музыке мы говорим, что расстояние между C и E (или «до» и «mi») равно M3.

Для этой задачи мы используем следующие названия нот:
C D E F G A B
Полный список интервалов, которые мы используем в этой задаче:
m2, M2, m3, M3, P4, P5, m6, M6, m7, M7, P8
Номер интервала - это количество названий букв или позиций (строк и пробелов), которые он содержит, включая позиции обеих нот, образующих интервал. Например, интервал C – G является пятым (обозначается P5), потому что ноты от C до G над ним содержат пять буквенных имен (C, D, E, F, G) и занимают пять последовательных штатных должностей, включая должности C и G. Интервал от A до A содержит 8 нот (A B C D E F G A) и называется P8. Мы будем называть это число диатонической ступенью (обратите внимание: термин «степень», который мы здесь используем, может не соответствовать фактическому термину в музыке).

Единица расстояния между нотами называется полутоном.

Имена букв могут быть изменены случайно. Резкий «#» поднимает ноту на полутон, а бемоль «си» понижает ее на полутон. К ноте можно добавить не более двух острых знаков и двух плоских знаков.

В следующей таблице показаны 12 нот хроматической гаммы, построенной на C. Расстояние между каждой нотой в таблице - полутон. Обратите внимание, что одну и ту же заметку можно описать разными буквами. Например, если мы поднимем C на полутон, мы получим C #. А если понизить D на полтона, мы получим Db.

C C # / Db D D # / Eb E F F # / Gb G G # / Ab A A # / Bb B

Например, расстояние в 4 полутона между C и E, расстояние в 5 полутонов между D и G и расстояние в 1 полутон между Bb и B.

Если мы добавим какие-либо случайности к нотам, образующим интервал, по определению ноты не меняют своей степени. Как следствие, любой интервал имеет тот же номер интервала, что и соответствующий естественный интервал (означает интервал, образованный теми же нотами, без случайностей). Например, интервалы C – G # (охватывающие 8 полутонов) и C # –G (охватывающие 6 полутонов) являются пятыми, как соответствующий естественный интервал C – G (7 полутонов).

Обратите внимание, что числа интервалов представляют собой включенное количество содержащихся градусов или имен нот, но не разницу между конечными точками. Другими словами, вы считаете первую ноту за одну, а не за ноль. По этой логике, интервал C – D является вторым (M2), но D находится только на одну степень выше C. Аналогично, C – E является третьим (M3), но E всего на две степени выше C, и так далее.

Мы будем использовать только интервалы до октавы (P8, 12 полутонов).

Чтобы построить интервал из данной ноты, вам сначала нужно найти диатонический градус ноты ниже или выше данной ноты.

Затем вам нужно отсчитать количество полутонов от начальной ноты. В последовательности C D E F G A B есть один полутон между E и F и B и C. Между другими нотами есть два полутона.

Здесь один тире означает один полутон:
C - - D - - E-F - - G - - A - - B-C

пример
Посчитаем количество полутонов между C и G: от C до D - 2 полутона, от D до E - 2 полутона, от E до F - 1 полутон, от F до G - 2 полутона. 2 + 2 + 1 + 2 = 7 полутонов.
Теперь давайте найдем количество полутонов между A и C: от A до B - 2 полутона, от B до C - 1 полутон. 2 + 1 = 3 полутона.

пример
Теперь найдем наш первый интервал - P5 (идеальный пятый) от Ab. P5 означает: найти расстояние в 5 градусов и 7 полутонов.
Сначала найдите 5-ю степень от A, игнорируя букву b:
(A B C D E) - E нота 5-й степени из A.
Теперь посчитаем полутоны: от Ab до B - 3 полутона, от B до C - 1 полутон, от C до D - 2 полутона, от D до E - 2 полутона. 3 + 1 + 2 + 2 = 8 полутонов. Это слишком много, нам нужно всего 7 полутонов, но нам нужно оставаться на E. Для этого понизьте E на один полутон, используя случайную букву «b».
На расстоянии P5 от Ab находится нота Eb.
Примечание: вы не можете написать D # в качестве ответа, потому что даже если D # составляет 7 полутонов от Ab, он имеет другую степень (это занимает всего 4 градуса от A до D).

пример
Чтобы показать вам, как работать со случайностями, давайте найдем P5 (5-я степень, 7 полутонов) из A #:
Как и в предыдущем примере, найдите 5-ю степень от A, игнорируя '#':
(A B C D E) - E - пятая нота от A (и от A #).
Теперь посчитаем полутоны: от A # до B - 1 полутон, от B до C - 1 полутон. от C до D - 2 полутона, от D до E - 2 полутона. 1 + 1 + 2 + 2 = 6 полутонов. Нам нужно добавить всего один полутон, добавив #: E #
На расстоянии P5 от A # находится нота E #.

пример
Давайте найдем m2 (2-я ступень, 1 полутон) из Fb: Найти вторую ступень легко: (F G) - G - вторая нота из F.
Теперь посчитаем полутоны: от Fb до G - 3 полутона. Это слишком много, нам нужен только один. Итак, мы должны понизить соль на 2 полутона. Для этого добавьте к ноте G два плоских знака «b»: Gbb.
На расстоянии m2 от Fb находится нота Gbb.

Названия, качество и количество интервалов
m2 - Малая секунда - 1 полутон, 2 градуса
M2 - Major Second - 2 полутона, 2 градуса
m3 - Minor Third - 3 полутона, 3 градуса
M3 - мажорная третья - 4 полутона, 3 градуса
P4 - Perfect Fourth - 5 полутонов, 4 градуса
P5 - Perfect Fifth - 7 полутонов, 5 градусов
m6 - минор шестой - 8 полутонов, 6 градусов
M6 - Major Sixth - 9 полутонов, 6 градусов
m7 - Минорная седьмая - 10 полутонов, 7 градусов
M7 - мажорная седьмая - 11 полутонов, 7 градусов
P8 - Perfect Octave - 12 полутонов, 8 градусов

Ваша задача реализовать две функции, которые будут работать с интервалами: одна будет строить интервал, а вторая будет определять интервал.

Требования:

-Функция должна принимать массив строк в качестве входных данных и возвращать строку.
-Массив состоит из трех или двух элементов.
-Первый элемент в массиве - это имя интервала, второй - начальная нота, а третий указывает, идет ли интервал по возрастанию или по убыванию.
-Если в массиве нет третьего элемента, по умолчанию порядок построения возрастает.
-Функция должна вернуть строку, содержащую название ноты.
-В возвращаемой строке разрешены только следующие названия нот:
Cbb Cb C C # C ## Dbb Db D D # D ## Ebb Eb E E # E ## Fbb Fb F F # F ## Gbb Gb G G # G ## Abb Ab A A # A ## Bbb Bb B B # B ##
